<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.UserDao_1">
    <select id="findByNametop" resultType="User" parameterType="String">
        SELECT * FROM user WHERE  username = #{name}
    </select>
    <select id="findAllfriend" resultType="Friends">
        SELECT * FROM friends
    </select>
    <select id="findAllUserBlog" resultType="UserBlog">
        SELECT * FROM userblog
    </select>
    <update id="SaveUser" parameterType="User">
        INSERT INTO user(username,password)VALUES (#{name},#{password})
    </update>
    <update id="UpdateFriend" parameterType="Friends">
        UPDATE friends SET  name=#{name},sex=#{sex},age=#{age},qq=#{qq},telephone=#{telephone},email=#{email},address=#{address} WHERE id=#{id}
    </update>
    <delete id="DeleteFriend" parameterType="int">
        DELETE FROM friends WHERE id=#{id}
    </delete>
    <insert id="AddFriend" parameterType="Friends">
        INSERT INTO friends(userid,name,sex,age,qq,telephone,email,address)VALUES (#{userid},#{name},#{sex},#{age},#{qq},#{telephone},#{email},#{address})
    </insert>
    <select id="SelectByc" resultType="Friends" parameterType="String">
        SELECT * FROM friends WHERE name LIKE #{name}
    </select>
    <insert id="Writeblog" parameterType="UserBlog">
        INSERT INTO userblog(userid,username,blog,tag,title)VALUES (#{userid},#{username},#{blog},#{tag},#{title})
    </insert>
    <insert id="WriteComment" parameterType="Comment">
        INSERT  INTO usercomment(comment_content,comment_userId,comment_blogId,comment_username)VALUES (#{comment_content},#{comment_userId},#{comment_blogId},#{comment_username})
    </insert>
    <!--新的-->
    <select id="SelectByblog" resultType="UserBlog" parameterType="String">
        SELECT * FROM userblog WHERE blog LIKE #{blog }
    </select>
    <select id="findAllblog" resultType="UserBlog">
        SELECT * FROM userblog where userid = #{0}
    </select>
    <delete id="DeleteBlog" parameterType="int">
        DELETE FROM userblog WHERE id=#{id}
    </delete>
    <update id="UpdateBlog" parameterType="UserBlog">
        UPDATE userblog SET  blog=#{blog},title=#{title} WHERE id=#{id}
    </update>
    <select id="findByWords" resultType="UserBlog" parameterType="String">
    SELECT * FROM  userblog  WHERE  blog=#{blog}
    </select>
    <select id="findByUserId" resultType="User" parameterType="String">
        SELECT * FROM user WHERE username=#{username}
    </select>
    <select id="selectFriendBlogById" resultType="UserBlog">
        select * from userblog where userid = #{0}
    </select>
    <!--<select id="selectFriendById" resultType="UserBlog">-->
        <!--select * from user where userid=#{0}-->
    <!--</select>-->
    <select id="selectUserLike" resultType="User">
        select zhixun,shenghuo,yingyue,zhishi,yule from user
    </select>
    <select id="GetBlogById" resultType="UserBlog">
        select * from userblog where id=#{0}
    </select>
    <select id="selectContentByBlogId" resultType="Comment">
        select  * from usercomment where comment_blogId=#{0}
    </select>
    <select id="findTuiJianBlog"  resultType="UserBlog">
        select  * from userblog where tag=#{arg0} and userid != #{arg1}
    </select>
    <select id="findChangeblog" resultType="UserBlog">
        SELECT * FROM userblog where id = #{0}
    </select>
</mapper>