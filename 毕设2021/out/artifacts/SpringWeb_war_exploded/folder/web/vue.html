<!DOCTYPE html>
<html lang="zh-CN" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <title>home</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="./css/typo.css">
    <link rel="stylesheet" href="./css/me.css">

    <!-- import CSS -->
        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/vue-router.js"></script>

</head>
<body>
<div id="app" >


    <div class="m-padded-tb-large">

        <div class="ui container">
            <div class="ui grid">
                <div class="five wide column">
                    <div class="ui top attached segment">
                        <div class="ui middle aligend two column grid">
                            <div class="column">
                                <h3 class="ui teal header">本人信息</h3>
                            </div>
                            <div class="right aligend column">
                                <!--<%&#45;&#45;共<h3 class="ui orange header m-inline-block">12</h3>篇&#45;&#45;%>-->

                            </div>
                        </div>
                    </div>
                    <div class="ui attached segment">
                        <div class="ui segment">
    <div class="ui card">
        <div class="image">
            <img  src="https://picsum.photos/id/1003/200/200">
        </div>
        <div class="content">
        <div class="header"><h2>博客发布者的信息</h2></div>
            <div class="mata"> <h3>用户名：{{blog.username}}</h3></br>
                <h3>用户id：{{blog.userid}}</h3>

            </div>

        </div>
    </div>
                        </div>
                    </div>
                </div>
                    <div class="eleven wide column">
                        <div class="ui top attached segment">
                            <div class="ui middle aligend two column grid">
                                <div class="column">
                                    <h3 class="ui teal header">博客信息</h3>
                                </div>
                                <div class="right aligend column">
                                    <!--<%&#45;&#45;共<h3 class="ui orange header m-inline-block">12</h3>篇&#45;&#45;%>-->

                                </div>
                            </div>
                        </div>
                        <div class="ui attached segment">
                            <div class="ui segment">
                                <div class="ui grid">
                                    <div class="fifteen wide column">
    <div class=" typo typo-selection  column middle" >
        <h2>博客内容</h2>
        <div class="ui attached segment">
            <img src="https://picsum.photos/id/1036/600/300" alt="">
        </div>
        <div class="header">{{blog.title}}</div>
           <h3>{{blog.blog}}</h3>

    </div>
                                    </div>
                                    <div class="one wide column">

                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="ui attached segment">
                            <div class="ui segment">
       <div class="ui threaded comments">
           <div class="ui comment">
               <div class="column side" v-for="(comment,index) in comments" >
               <a href="" class="avatar">
                   <img src="https://picsum.photos/id/1008/200/200" alt="">
               </a>
               <div class="ui content">

        <a href="" class="author">用户{{comment.comment_username}}的评论</a>

        <div class="text" >{{comment.comment_content}}</div>

    </div><div class=" ui divider"></div>
               </div>
           </div>
       </div>
                            </div>
                        </div>


<!--<div id="app" >-->
    <!--<div style="font-family:verdana;padding:20px;border-radius:10px;border:10px solid #EE872A"><h3>{{blog.blog}}</h3></div>-->

    <!--<div v-for="(comment,index) in comments">-->
        <!--<div>{{comment.comment_content}}</div>-->
    <!--</div>-->
    <form class="ui reply form" :action="'WriteComment?id='+id"  method="post">
        <div class="field"  >


            <textarea rows="10" cols="30" name="newcomment"  placeholder="输入你想说的话" /></textarea>
            <!--<%&#45;&#45;<td>博客内容：</td><td><input type="text" name="newblog" ></td>&#45;&#45;%>-->
        </div>

        <!--<div class="ui selection dropdown">-->
            <!--<input type="hidden" name="tag">-->
            <!--<i class="dropdown icon"></i>-->
            <!--<div class="default text">类别</div>-->
            <!--<div class="menu" tabindex="-1">-->
                <!--<div class="item" data-value="0">知识</div>-->
                <!--<div class="item" data-value="1">生活</div>-->
                <!--<div class="item" data-value="2">音乐</div>-->
                <!--<div class="item" data-value="3">娱乐</div>-->
                <!--<div class="item" data-value="4">资讯</div>-->
            <!--</div>-->
        <!--</div>-->

        <button class="ui primary submit labeled icon button" type="submit" >
            <i class="edit icon"></i>
            发布评论

        </button>
    </form>
</div>
        </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
</body>
<script src="js/vue-router.js"></script>
<script src="js/vue.js"></script>
 <!--import JavaScript -->
<script src="js/axios.min.js"></script>

<script type="module">
    const app = new Vue({
        data(){
            return {
                yangxu:'',
                user:'',
                blog:'',
                comments:'',
                id:'' +
                    ''
            }
        },
        methods:{
            getParam(name) {
                var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);//search,查询？后面的参数，并匹配正则
                if(r!=null)return  unescape(r[2]); return null;
            },
            test(){
                var _this = this;
                axios({
                    method:'get',
                    url:'/test'
                }).then(function (response) {
                    var data = response.data;
                    _this.user = data;
                });
            },

        },
        mounted(){
            var _this = this;
            var  id = _this.getParam("id");
            this.id = id;
            axios({
                method:'get',
                url:'/getblog?id='+id
            }).then(function (response) {
                var data = response.data;
                _this.blog = data;
            });
            axios({
                method:'get',
                url:'/getcomment?id='+id
            }).then(function (response) {
                var data = response.data;
                _this.comments = data;
            });
        },
        watch:{
            loadingMain(val){
                console.log("okoko")
            }
        }
    }).$mount('#app')
</script>
</html>